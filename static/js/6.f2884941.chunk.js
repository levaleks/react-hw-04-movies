(this["webpackJsonpreact-hw-04-movies"]=this["webpackJsonpreact-hw-04-movies"]||[]).push([[6],{56:function(t,e,a){"use strict";a.d(e,"a",(function(){return i}));var n=a(57),c=a.n(n);const r=c.a.create(),i=new class{constructor(t){this.httpClient=t}async getTrending(t="all",e="day"){const{data:a}=await this.httpClient.get("".concat("https://api.themoviedb.org/3","/trending/").concat(t,"/").concat(e,"?api_key=").concat("f65f572eaf3dbff2084915597c63474f"));return a}async searchMovies(t){const e=new URLSearchParams;Object.entries({api_key:"".concat("f65f572eaf3dbff2084915597c63474f"),...t}).forEach(([t,a])=>{e.append(t,String(a))});const{data:a}=await this.httpClient.get("".concat("https://api.themoviedb.org/3","/search/movie?").concat(e.toString()));return a}async getMovieDetails(t,e){const a=new URLSearchParams;Object.entries({api_key:"".concat("f65f572eaf3dbff2084915597c63474f"),...e}).forEach(([t,e])=>{a.append(t,String(e))});const{data:n}=await this.httpClient.get("".concat("https://api.themoviedb.org/3","/movie/").concat(t,"?").concat(a.toString()));return n}async getMovieCredits(t){const{data:e}=await this.httpClient.get("".concat("https://api.themoviedb.org/3","/movie/").concat(t,"/credits?api_key=").concat("f65f572eaf3dbff2084915597c63474f"));return e}async getMovieReviews(t,e){const a=new URLSearchParams;Object.entries({api_key:"".concat("f65f572eaf3dbff2084915597c63474f"),...e}).forEach(([t,e])=>{a.append(t,String(e))});const{data:n}=await this.httpClient.get("".concat("https://api.themoviedb.org/3","/movie/").concat(t,"/reviews?").concat(a.toString()));return n}}(r)},83:function(t,e,a){"use strict";a.r(e),a.d(e,"MoviesPage",(function(){return h}));var n=a(0),c=a.n(n),r=a(2),i=a(8),o=a(11);function s(){const t=Object(o.a)(["\n    form {\n        display: flex;\n\n        input {\n            flex-grow: 1;\n            flex-shrink: 0;\n            margin-right: 15px;\n        }\n    }\n"]);return s=function(){return t},t}const f=a(12).a.div(s());var u=a(56);const h=()=>{const t=new URLSearchParams(Object(r.h)().search),e=Object(r.g)(),[a,o]=Object(n.useState)(),[s,h]=Object(n.useState)(""),[[p,l],g]=Object(n.useState)(["",""]);return Object(n.useEffect)(()=>{if(l){(async t=>{const e=await u.a.searchMovies({query:t});o(e.results)})(l)}p&&!l&&(o([]),g(["",""]))},[p,l]),Object(n.useEffect)(()=>{var e;const a=null!==(e=t.get("query"))&&void 0!==e?e:"";a!==l&&(g([l,a]),h(a))},[t,l]),c.a.createElement(f,null,c.a.createElement("form",{onSubmit:a=>{var n;a.preventDefault();const c=null!==(n=t.get("query"))&&void 0!==n?n:"",r=a.target.query.value.trim().replace(/\s{2,}/g," ");var i;c!==r&&(i=r,e.push({search:i?"?query=".concat(i):""}))}},c.a.createElement("input",{name:"query",type:"text",autoComplete:"off",value:s,onChange:t=>h(t.target.value)}),c.a.createElement("button",{type:"submit"},"Search")),a&&c.a.createElement("ul",null,a.map(({id:t,title:e,original_title:a})=>c.a.createElement("li",{key:t},c.a.createElement(i.b,{to:"/movies/".concat(t)},e||a)))))}}}]);
//# sourceMappingURL=6.f2884941.chunk.js.map